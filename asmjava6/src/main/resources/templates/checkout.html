<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="utf-8">
	<title>MultiShop - Online Shop Website Template</title>
	<meta content="width=device-width, initial-scale=1.0" name="viewport">
	<meta content="Free HTML Templates" name="keywords">
	<meta content="Free HTML Templates" name="description">

	<link href="../img/favicon.ico" rel="icon">
	<!-- Google Web Fonts -->
	<link rel="preconnect" href="https://fonts.gstatic.com">
	<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
	<script src="https://unpkg.com/currency.js@~2.0.0/dist/currency.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.1/dist/sweetalert2.min.js"></script>
	<!-- Font Awesome -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">

	<!-- Libraries Stylesheet -->
	<link href="../lib/animate/animate.min.css" rel="stylesheet">
	<link href="../lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">

	<!-- Customized Bootstrap Stylesheet -->
	<link href="../css/style.css" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular-cookies.min.js"></script>
	<script src="https://developers.momo.vn/latest/momopay.min.js"></script>

</head>

<body ng-app="shopping-cart-app" ng-controller="shopping-cart-ctrl">
	<!-- Topbar Start -->
	<div class="container-fluid">
		<div class="row bg-secondary py-1 px-xl-5">
			<div class="col-lg-6 d-none d-lg-block"></div>
			<div class="col-lg-6 text-center text-lg-right">
				<div class="d-inline-flex align-items-center">
					<div class="btn-group">
						<button type="button" class="btn btn-sm btn-light dropdown-toggle" data-toggle="dropdown">My
							Account</button>
						<div class="dropdown-menu dropdown-menu-right">
							<a href="/client/login" class="dropdown-item">Đăng nhập</a> <a href="/sinup"
								class="dropdown-item">Đăng ký</a> <a href="/admin/index" class="dropdown-item">admin</a>
							<a href="/client/logout" class="dropdown-item">Đăng xuất</a>
						</div>
					</div>

					<div class="btn-group">
						<button type="button" class="btn btn-sm btn-light dropdown-toggle"
							data-toggle="dropdown">EN</button>
						<div class="dropdown-menu dropdown-menu-right">
							<button class="dropdown-item" type="button">EN</button>
							<button class="dropdown-item" type="button">VN</button>
						</div>
					</div>
				</div>
				<div class="d-inline-flex align-items-center d-block d-lg-none">
					<a href="" class="btn px-0 ml-2"> <i class="fas fa-heart text-dark"></i> <span
							class="badge text-dark border border-dark rounded-circle"
							style="padding-bottom: 2px;">0</span>
					</a> <a class="btn px-0 ml-2"> <i class="fas fa-shopping-cart text-dark"></i> <span
							class="badge text-dark border border-dark rounded-circle"
							style="padding-bottom: 2px;"></span>
					</a>
				</div>
			</div>
		</div>
		<div class="row align-items-center bg-light py-3 px-xl-5 d-none d-lg-flex">
			<div class="col-lg-4">
				<a href="" class="text-decoration-none"> <span
						class="h3 text-uppercase text-primary bg-dark px-2">Orihiro
						Official</span> <span class="h3 text-uppercase text-dark bg-primary px-2 ml-n1">
						Store</span>
				</a>
			</div>
			<div class="col-lg-4 col-6 text-left">
				<form action="">
					<div class="input-group">
						<input type="text" class="form-control" placeholder="Tìm kiếm sản phẩm">
						<div class="input-group-append">
							<span class="input-group-text bg-transparent text-primary">
								<i class="fa fa-search"></i>
							</span>
						</div>
					</div>
				</form>
			</div>

		</div>
	</div>
	<!-- Topbar End -->


	<!-- Navbar Start -->
	<div class="container-fluid bg-dark mb-30">
		<div class="row px-xl-5">
			<div class="col-lg-3 d-none d-lg-block">
				<a class="btn d-flex align-items-center justify-content-between bg-primary w-100" data-toggle="collapse"
					href="#navbar-vertical" style="height: 65px; padding: 0 30px;">
					<h6 class="text-dark m-0">
						<i class="fa fa-bars mr-2"></i>Danh mục
					</h6> <i class="fa fa-angle-down text-dark"></i>
				</a>
				<nav class="collapse position-absolute navbar navbar-vertical navbar-light align-items-start p-0 bg-light"
					id="navbar-vertical" style="width: calc(100% - 30px); z-index: 999;">
					<div class="navbar-nav w-100">
						<a th:each="c:${cates}" th:href="@{|/index?cid=${c.id}|}"
							class="nav-item nav-link">[[${c.name}]]</a>
					</div>
				</nav>
			</div>
			<div class="col-lg-9">
				<nav class="navbar navbar-expand-lg bg-dark navbar-dark py-3 py-lg-0 px-0">
					<a href="" class="text-decoration-none d-block d-lg-none"> <span
							class="h1 text-uppercase text-dark bg-light px-2">Multi</span> <span
							class="h1 text-uppercase text-light bg-primary px-2 ml-n1">Shop</span>
					</a>
					<button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
						<span class="navbar-toggler-icon"></span>
					</button>
					<div class="collapse navbar-collapse justify-content-between" id="navbarCollapse">
						<div class="navbar-nav mr-auto py-0">
							<a href="index" class="nav-item nav-link active">Trang chủ</a> <a href="shop"
								class="nav-item nav-link">Sản phẩm</a> <a href="detail" class="nav-item nav-link">Chi
								tiết sản phẩm</a>
							<div class="nav-item dropdown">
								<a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Trang <i
										class="fa fa-angle-down mt-1"></i></a>
								<div class="dropdown-menu bg-primary rounded-0 border-0 m-0">
									<a href="/client/cart" class="dropdown-item">Giỏ hàng</a> <a href="checkout"
										class="dropdown-item">Thanh toán</a>
								</div>
							</div>
							<a href="contact" class="nav-item nav-link">Yêu thích</a>
						</div>
						<div class="navbar-nav ml-auto py-0 d-none d-lg-block">
							<a href="" class="btn px-0"> <i class="fas fa-heart text-primary"></i> <span
									class="badge text-secondary border border-secondary rounded-circle"
									style="padding-bottom: 2px;">0</span>
							</a> <a th:href="@{/client/cart}" class="btn px-0 ml-3"> <i
									class="fas fa-shopping-cart text-primary"></i> <span
									class="badge text-secondary border border-secondary rounded-circle"
									style="padding-bottom: 2px;"></span>
							</a>
						</div>
					</div>
				</nav>
			</div>
		</div>
	</div>
	<!-- Navbar End -->


	<!-- Breadcrumb Start -->
	<div class="container-fluid">
		<div class="row px-xl-5">
			<div class="col-12">
				<nav class="breadcrumb bg-light mb-30">
					<a class="breadcrumb-item text-dark" href="#">Home</a> <a class="breadcrumb-item text-dark"
						href="#">Shop</a> <span class="breadcrumb-item active">Checkout</span>
				</nav>
			</div>
		</div>
	</div>
	<!-- Breadcrumb End -->


	<!-- Checkout Start -->
	<form th:action="@{/client/submitOrder}" method="post" id="orderForm">
		<div class="container-fluid">
			<div class="row px-xl-5">
				<div class="col-lg-8">
					<h5 class="section-title position-relative text-uppercase mb-3">
						<span class="bg-secondary pr-3">Billing Address</span>
					</h5>
					<div class="bg-light p-30 mb-5">
						<div class="row">
							<div class="col-md-6 form-group">
								<label>Họ và tên</label> <input class="form-control" type="text" ng-model="fullName"
									readonly>
							</div>


							<div class="col-md-6 form-group">
								<label>Số điện thoại</label> <input class="form-control" id="phoneNumber"
									name="phoneNumber" pattern="[0-9]{10}" type="tel" placeholder="+84 |">
							</div>



							<div class="col-md-6 form-group">
								<label>Ngày giờ</label> <input class="form-control" type="date" ng-model="selectedDate"
									ng-init="selectedDate = selectedDate | date:'yyyy-MM-dd'">
							</div>

							<div class="col-md-6 form-group">
								<label>Địa Chỉ</label> <input ng-model="address" class="form-control"
									placeholder="Cần thơ |" id="address" name="address"></input>
							</div>
							<div class="col-md-6 form-group">
								<label>Tỉnh Thành</label> <select class="form-control" id="city" ng-model="selectedCity"
									name="country" aria-label=".form-select-sm">
									<option value="" selected>Chọn tỉnh thành</option>
								</select>
							</div>
							<div class="col-md-6 form-group">
								<label>Quận Huyện</label> <select class="form-control" id="district"
									ng-model="selectedDistrict" name="district" aria-label=".form-select-sm">
									<option value="" selected>Chọn quận huyện</option>
								</select>
							</div>
							<div class="col-md-6 form-group">
								<label>Phường Xã</label> <select class="form-control" id="ward" ng-model="selectedWard"
									name="wards" aria-label=".form-select-sm">
									<option value="" selected>Chọn phường xã</option>
								</select>
							</div>


						</div>
					</div>

				</div>
				<div class="col-lg-4">
					<h5 class="section-title position-relative text-uppercase mb-3">
						<span class="bg-secondary pr-3">Order Total</span>
					</h5>
					<div class="bg-light p-30 mb-5">

						<div class="border-bottom pt-3 pb-2">
							<div class="d-flex justify-content-between mb-3">
								<h6>Subtotal</h6>
								<h6>{{ getTotalPrice() | vnCurrency }}</h6>
							</div>
							<div class="d-flex justify-content-between">
								<h6 class="font-weight-medium">Shipping</h6>
								<h6 class="font-weight-medium">{{ship.data.total |
									vnCurrency}}</h6>
							</div>
						</div>
						<div class="pt-2">
							<div class="d-flex justify-content-between mt-2">
								<h5>Total</h5>
								<h5 >{{ getTotalPrice()- ship.data.total| vnCurrency }}</h5>
							</div>
						</div>
					</div>

					<div class="mb-5">
						<input type="hidden" class="form-control" id="amount" name="amount" required
							value="{{ getTotalPrice() - ship.data.total }}"> <input type="hidden" class="form-control"
							id="orderInfo" name="orderInfo" required value="{{ fullName }}">

						<h5 class="section-title position-relative text-uppercase mb-3">
							<span class="bg-secondary pr-3">Payment</span>
						</h5>
						<div class="bg-light p-30">
							<div class="form-check mb-2">
								<input class="form-check-input" type="radio" value="COD" id="codRadio"
									name="paymentMethod" checked> <label class="form-check-label" for="codRadio"> Thanh
									toán COD
								</label>
							</div>
							<div class="form-check mb-2">
								<input class="form-check-input" type="radio" value="VnPay" id="vnPayRadio"
									name="paymentMethod"> <label class="form-check-label" for="vnPayRadio"> Thanh toán
									VnPay </label>
							</div>
							<button type="submit" class="btn btn-block btn-primary font-weight-bold py-3">
								Thanh toán</button>
						</div>
					</div>


				</div>
			</div>
		</div>
	</form>
	<!-- Checkout End -->


	<!-- Footer Start -->
	<div class="container-fluid bg-dark text-secondary mt-5 pt-5">
		<div class="row px-xl-5 pt-5">
			<div class="col-lg-4 col-md-12 mb-5 pr-3 pr-xl-5">
				<h5 class="text-secondary text-uppercase mb-4">Orihiro Official</h5>
				<p class="mb-4">Lan tỏa giá trị của Orihiro Nhật Bản tại Việt
					Nam; nâng cao chất lượng cuộc sống của người dân Việt.</p>
				<p class="mb-2">
					<i class="fa fa-map-marker-alt text-primary mr-3"></i>22 Thường
					Thạnh, Cái Răng, Cần Thơ
				</p>
				<p class="mb-2">
					<i class="fa fa-envelope text-primary mr-3"></i>Support@fpt.edu.vn
				</p>
				<p class="mb-0">
					<i class="fa fa-phone-alt text-primary mr-3"></i>+012 345 67890
				</p>
			</div>
			<div class="col-lg-8 col-md-12">
				<div class="row">
					<div class="col-md-4 mb-5">
						<h5 class="text-secondary text-uppercase mb-4">Cửa hàng</h5>
						<div class="d-flex flex-column justify-content-start">
							<a class="text-secondary mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Trang chủ</a>
							<a class="text-secondary mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Cửa hàng của
								chúng tôi</a> <a class="text-secondary mb-2" href="#"><i
									class="fa fa-angle-right mr-2"></i>Chi tiết cửa hàng</a> <a
								class="text-secondary mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Giỏ hàng</a>
							<a class="text-secondary mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Thủ tục thanh
								toán</a> <a class="text-secondary" href="#"><i class="fa fa-angle-right mr-2"></i>Liên
								hệ chúng tôi</a>
						</div>
					</div>
					<div class="col-md-4 mb-5">
						<h5 class="text-secondary text-uppercase mb-4">Chính sách</h5>
						<div class="d-flex flex-column justify-content-start">
							<a class="text-secondary mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Trang chủ</a>
							<a class="text-secondary mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Chính sách bảo
								mật</a> <a class="text-secondary mb-2" href="#"><i
									class="fa fa-angle-right mr-2"></i>Chính sách địa lý</a> <a
								class="text-secondary mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Chính sách
								vận chuyển</a> <a class="text-secondary mb-2" href="#"><i
									class="fa fa-angle-right mr-2"></i>Hướng dẫn thanh toán</a> <a
								class="text-secondary" href="#"><i class="fa fa-angle-right mr-2"></i>Đổi trả hàng & bảo
								hành</a>
						</div>
					</div>
					<div class="col-md-4 mb-5">
						<h5 class="text-secondary text-uppercase mb-4">Gửi đánh giá</h5>
						<p>Hãy cho chúng tôi biết về trả nghiệm sửa dụng sản phẩm của
							Orihiro.</p>
						<form action="">
							<div class="input-group">
								<input type="text" class="form-control" placeholder="Gửi Email tại đây...">
								<div class="input-group-append">
									<button class="btn btn-primary">Gửi</button>
								</div>
							</div>
						</form>
						<h6 class="text-secondary text-uppercase mt-4 mb-3">Theo dõi
							chúng tôi</h6>
						<div class="d-flex">
							<a class="btn btn-primary btn-square mr-2" href="#"><i class="fab fa-twitter"></i></a> <a
								class="btn btn-primary btn-square mr-2" href="#"><i class="fab fa-facebook-f"></i></a>
							<a class="btn btn-primary btn-square mr-2" href="#"><i class="fab fa-linkedin-in"></i></a>
							<a class="btn btn-primary btn-square" href="#"><i class="fab fa-instagram"></i></a>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="row border-top mx-xl-5 py-4" style="border-color: rgba(256, 256, 256, .1) !important;">
			<div class="col-md-6 px-xl-0"></div>
			<div class="col-md-6 px-xl-0 text-center text-md-right">
				<img class="img-fluid" src="img/payments.png" alt="">
			</div>
		</div>
	</div>
	<!-- Footer End -->


	<!-- Back to Top -->
	<a href="#" class="btn btn-primary back-to-top"><i class="fa fa-angle-double-up"></i></a>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
	<script>
		var citis = document.getElementById("city");
		var districts = document.getElementById("district");
		var wards = document.getElementById("ward");
		var Parameter = {
			url: "https://raw.githubusercontent.com/kenzouno1/DiaGioiHanhChinhVN/master/data.json",
			method: "GET",
			responseType: "application/json",
		};
		var promise = axios(Parameter);
		promise.then(function (result) {
			renderCity(result.data);
		});

		function renderCity(data) {
			for (const x of data) {
				citis.options[citis.options.length] = new Option(x.Name, x.Name);
			}
			citis.onchange = function () {
				district.length = 1;
				ward.length = 1;
				if (this.value != "") {
					const result = data.filter(n => n.Name === this.value);

					for (const k of result[0].Districts) {
						district.options[district.options.length] = new Option(k.Name, k.Name);
					}
				}
			};
			district.onchange = function () {
				ward.length = 1;
				const dataCity = data.filter((n) => n.Name === citis.value);
				if (this.value != "") {
					const dataWards = dataCity[0].Districts.filter(n => n.Name === this.value)[0].Wards;

					for (const w of dataWards) {
						wards.options[wards.options.length] = new Option(w.Name, w.Name);
					}
				}
			};
		}
	</script>

	<script>
		document
			.addEventListener('DOMContentLoaded',
				function () {
					const orderForm = document
						.getElementById('orderForm');
					orderForm.addEventListener('submit',
						function (event) {
							if (!validateForm()) {
								event.preventDefault(); // Ngăn chặn việc gửi biểu mẫu nếu không hợp lệ
							}
						});

					function validateForm() {
						const phoneNumber = document
							.getElementById('phoneNumber').value;
						const address = document
							.getElementById('address').value;

						let isValid = true;

						// Kiểm tra điều kiện hợp lệ cho số điện thoại
						if (!phoneNumber.match(/^0\d{9,10}$/)) {
							alert('Số điện thoại không hợp lệ!');
							isValid = false;
						}

						// Kiểm tra điều kiện hợp lệ cho địa chỉ
						if (address.trim() === '') {
							alert('Vui lòng nhập địa chỉ!');
							isValid = false;
						}

						return isValid;
					}
				});
		// Lấy các thẻ select theo ID
		var citySelect = document.getElementById("city");
		var districtSelect = document.getElementById("district");
		var wardSelect = document.getElementById("ward");

		// Lấy thẻ form theo ID
		var orderForm = document.getElementById("orderForm");

		// Thêm sự kiện "submit" vào form
		orderForm.addEventListener("submit", function (event) {
			// Kiểm tra xem các thẻ select có giá trị được chọn hay không
			if (citySelect.value === "" || districtSelect.value === "" || wardSelect.value === "") {
				// Ngăn chặn việc submit form
				event.preventDefault();

				// Hiển thị thông báo lỗi
				alert("Vui lòng chọn đầy đủ cả 3 lựa chọn (tỉnh, quận/huyện, phường/xã).");
			}
		});
	</script>

	<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
	<script src="../lib/easing/easing.min.js"></script>
	<script src="../lib/owlcarousel/owl.carousel.min.js"></script>

	<!-- Contact Javascript File -->
	<script src="../mail/jqBootstrapValidation.min.js"></script>
	<script src="../mail/contact.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.1/dist/sweetalert2.min.js"></script>
	<!-- Template Javascript -->
	<script src="../js/main.js"></script>
	<script src="../js/shopping-cart-ctrl.js"></script>
</body>

</html>